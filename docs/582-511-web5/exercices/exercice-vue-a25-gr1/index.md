# FestiPixel ‚Äì Exercice

## Contexte

Vous devez cr√©er une mini-application *Vue.js (Options API)* qui affiche la programmation d‚Äôun festival fictif : *FestiPixel* (nul besoin de faire de composante pour cet exercice).

Les donn√©es proviennent d‚Äôun fichier *JSON* charg√© via *Fetch API*.  

L‚Äôinterface doit √™tre pr√©sent√©e en *CSS Grid*, avec deux dispositions possibles : *uniform* (uniforme) et *featured* (en vedette).

L'interface doit *s'adapter selon le format de l'√©cran*, voir l'[aper√ßu](#apercu-du-resultat-final) afin d'appliquer le placement de la grille selon ce qui est attendu.


## Objectif

Mettre en pratique les notions suivantes :

- *Vue.js (Options API)* : `data`, `computed`, `methods`, directives (`v-model`, `v-for`, `v-if`, `:class`, `@click`, etc.).
- *Fetch API* : chargement de donn√©es externes via une m√©thode appel√©e par un bouton.
- *CSS Grid* : cr√©ation de layouts responsives et avec mise en avant d‚Äôun artiste vedette.
- *Utilisation de fonctions utilitaires (helpers)* d√©j√† fournies dans `utils.js`.


## D√©marrage

[üì• T√©l√©charger fichiers de d√©part](./nom-prenom-web5-exam.zip){ .md-button }


### Fichiers fournis

- `index.html` ‚Üí squelette de l‚Äôapplication.
- `style.css` ‚Üí base de styles + classes pour les deux layouts.
- `main.js` ‚Üí code Vue √† compl√©ter.
- `data.json` ‚Üí donn√©es des artistes.
- `utils.js` ‚Üí *fonctions utilitaires pr√™tes* pour filtrer, chercher et trier les artistes.
- `logo.svg` ‚Üí image du logo du festival.

> Vous n‚Äôavez pas besoin d‚Äô√©crire vous-m√™mes des fonctions complexes sur les tableaux (`sort`, `filter`, etc.).  
> Utilisez simplement les helpers de `utils.js` dans vos `computed` ou `methods`.



## Aper√ßu du r√©sultat final

<div style="max-width: 1280px"><div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"><iframe src="https://cmontmorency365-my.sharepoint.com/personal/mariem_ouellet_cmontmorency_qc_ca/_layouts/15/embed.aspx?UniqueId=3d00fcc4-de09-4467-9b76-3f9c07f1248a&embed=%7B%22hvm%22%3Atrue%2C%22ust%22%3Atrue%7D&referrer=StreamWebApp&referrerScenario=EmbedDialog.Create" width="1280" height="720" frameborder="0" scrolling="no" allowfullscreen title="apercu-final.mp4" style="border:none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; height: 100%; max-width: 100%;"></iframe></div></div>

## Exigences fonctionnelles

!!! tip
    Les exigences fonctionnelles ne sont pas des √©tapes √† faire en ordre une apr√®s l'autre. Ici, elles vous sont regroup√©e par th√®me.
    Je vous conseille de les lire en entier avant de d√©buter. Vous devrez organiser vous-m√™me vos √©tapes en fonction de ces exigences.
    N'h√©sitez pas aussi √† vous r√©f√©rer √† l'aper√ßu vid√©o afin de ne rien oublier pour le r√©sultat final.


### 1- Commente ton code

- [ ] Commente ton code et tout ce que tu fais, afin d'expliquer chaque partie et prouver ta compr√©hension
  - Commenter ton JavaScript.
  - Commenter dans le HTML lorsque tu utilises des directives Vue.js dans le HTML.
  - Commenter dans le CSS lorsque tu appliques une grille, explique ce que tu fais.

### 2- Cr√©ation de l'app Vue

- [x] Importer Vue.js 3
- [x] Cr√©er l'application Vue
> Dans cet exercice, nul besoin de faire une *composante* Vue. Tout se passe directement dans l'app Vue principale.

### 3- Chargement des donn√©es json

- [x] Au clic du  bouton *¬´ Charger la programmation ¬ª*, une *m√©thode Vue* charge les donn√©es de `data.json` via un `fetch`.
- [x] G√©rer les √©tats de l'app √† partir de la progression de ce `fetch` et afficher conditionnellement √† cet √©tat des messages dans l'interface:
  - `init` ‚Üí *SI* l'√©tat est √† `init`: afficher le bouton ¬´ Charger la programmation ¬ª.
  Repr√©sente l'√©tat de d√©part lors l'initiation de l'app.
  - `loading` ‚Üí *SI* l'√©tat est √† `loading`: afficher le message ¬´ Chargement‚Ä¶ ¬ª.
  Repr√©sente l'√©tat pendant l'op√©ration de chargement des donn√©es du fichier `data.json`.
  - `error` ‚Üí *SI* l'√©tat est √† `error`: afficher un message d‚Äôerreur.
  Repr√©sente l'√©tat dans le cas o√π le  chargement des donn√©es du fichier `data.json` √©choue.
  - `loaded` ‚Üí *SI* l'√©tat est √† `loaded`: afficher la grille des cartes d'artistes.
  Repr√©sente l'√©tat lorsque le donn√©es du `data.json` sont charg√©es et converties dans le format json.

### 4- Affichage en grille (CSS Grid)

- [ ] Les 5 √©l√©ments de formulaire s'affiche dans un grille de 5 colonnes.
  - Requ√™te m√©dia (media queries): sur petit √©cran, tous les champs sont un par dessus l'autre (se fier √† l'[aper√ßu ci-haut](#apercu-du-resultat-final)).
- [ ] Les √©l√©ments de chaue carte d'artiste s‚Äôaffichent dans un grille √† l'int√©rieur de la carte en tant que:
  - Nom  
  - Sc√®ne  
  - Heure (d√©but‚Äìfin)  
  - Style  
  - Popularit√© (‚≠ê nombre)  
- [ ] Mise en page (layout) *CSS Grid* responsive :
  - Disposition s√©lectionn√©e de la grille:
    - *uniform* : Cartes toutes pareilles (m√™me dimension, variable mais minimum de largeur de 220px), le *nombre de colonne automatique* d√©pendant de l'espace disponible dans l'√©cran.
      - Dans ce contexte, il faudra appliquer la classe `.grid--uniform` sur le conteneur de la grille.
    - *featured* : les cartes ayant le l‚Äôartiste vedette (`featured:true` dans `data.json`) occupe plus d‚Äôespace sur la grille. Il y a *4 colonnes* sur grand √©cran (desktop).
      - Dans ce contexte, il faudra appliquer la classe `grid-featured` sur le conteneur de la grille ainsi que la classe `.is-featured` sur les carte des artiste en vedette.
  - Requ√™te m√©dia (media queries).
    - Appliquer les styles des 2 types de grille pour √©cran format moyen (se fier √† l'[aper√ßu ci-haut](#apercu-du-resultat-final)). `grid-featured` en 3 colonnes et `.grid--uniform` le *nombre de colonne et automatique*.
    - Appliquer les styles des 2 types de grille pour √©cran petit format (mobile) (se fier √† l'[aper√ßu ci-haut](#apercu-du-resultat-final)). Peu importe quel type de grille, tout est en 1 seule colonne et prend toute la largeur.

### 5- Filtres, recherche et tri des cartes d'artistes

- [x] *Recherche par nom* (input texte)
- [x] *Filtre par sc√®ne* (liste d√©roulante)
- [x] Possibilit√© de *trier* les artistes par :
  - Heure (d√©but ‚Üë)
  - Popularit√© (‚Üì)
  - Nom (A‚ÜíZ)
- [x] Choix de la *disposition* (layout) des carte : *featured (Mise en vedette)* ou *uniform (Uniforme)*
- [ ] Vous devrez lier ces √©l√©ments de formulaires √† des donn√©es de votre app Vue afin de les rendre fonctionnels.
- [ ] Afficher le nombre de r√©sultats filtr√©s *x r√©sultat(s)* sous le formulaire

### 6- Donn√©es, propri√©t√©s calcul√©es et m√©thodes

- [x] D√©finir les *donn√©es* de l'app Vue pour:

  - l'*√©tat* de chargement des donn√©es, initialis√©e √† `init`
  - un *tableau (array)* contenant les *donn√©es des artistes* charg√©e √† partir de `data.json`
  - le contenu du champ *Recherche*
  - la *sc√®ne* s√©lectionn√©e
  - le *type de tri* s√©lectionn√© (`time` (heure), `pop` (popularit√©), `name` (nom))
  - la *disposition* (layout) s√©lectionn√©e: `featured` ou `uniform`. Initialisez la √† `featuted` par d√©faut.
- [ ] Si vous avez d√©j√† fait le fetch vers `data.json` (ou lorsque vous le ferez), veuillez populer la donn√©e correspondant au *tableau (array) contenant les donn√©es des artistes* avec les donn√©es re√ßues du fetch (ceci se fera apr√®s avoir re√ßu et converti les donn√©es en json).
- [x] D√©finir une *propri√©t√© calcul√©e* `gridClass()` qui g√©n√®re le nom de la classe s'appliquant sur `.schedule` en fonction de la *disposition* s√©lectionn√©e: Soit `.grid--uniform` ou `.grid--featured`.
  - Ensuite appliquer cette *propri√©t√© calcul√©e* `gridClass()` l√† o√π c'est pertinent.

- [ ] D√©finir une  *propri√©t√© calcul√©e* `stagesArr()` qui g√©n√®re la liste des sc√®nes en fonction des donn√©es charg√©es √† partir du fichier `data.json`.
  - Cette propri√©t√© calcul√© devra contenir la ligne qui suit (veuillez remplacer `artistsList` par le nom de la propri√©t√© que  vous avez donn√©es au *tableau (array) contenant les donn√©es charg√©e √† partir de `data.json`*):
    ```js
    return [...new Set(this.artistsList.map(a => a.stage))].sort();
    ```
  - Ensuite appliquer cette *propri√©t√© calcul√©e* `stagesArr()` l√† o√π c'est pertinent.

- [ ] D√©finir une *propri√©t√© calcul√©e* `filteredAndSortedArtistsArr()` qui se base sur un tableau (array) qui contient la liste des artistes et leurs donn√©es et qui lui applique le pipeline suivant :

   *vedette en 1<sup>er</sup> ‚Üí filtres/sc√®ne ‚Üí recherche ‚Üí tri (r√©ordonner)*

  - Utiliser les helpers de `utils.js` :
    - `putFeaturedFirst(artistsArr)`
    - `filterByStage(artistsArr, selectedStage)`
    - `searchByName(artistsArr, searchTerm)`
    - `sortByMode(artistsArr, sortBy)`

  - Dans `filteredAndSortedArtistsArr`, encha√Æner ces fonctions dans le bon ordre sur le tableau de donn√©es et retourner le tableau filtr√© par ces quatres fonctions.
  En fait, tiens, un petit cadeau üéÅ pour vous faciliter cette t√¢che. Voici litt√©ralement le code √† utiliser. Mais attention: il faut renommer les √©l√©ments `artistsArr`, `selectedStage`, `searchTerm` et `sortBy` par les noms de propri√©t√©s que vous avez choisies dans les donn√©es de votre app Vue.
  ```
  filteredAndSortedArtistsArr() {
    /* R√©ordonner vedette en 1<sup>er</sup> */
    let arr = putFeaturedFirst(this.artistsArr);

    /* Appliquer le filtres/sc√®ne selon ce qui est s√©lectionn√© dans la liste de sc√®ne */
    arr = filterByStage(arr, this.selectedStage);

    /* Appliquer la recherche par nom selon ce qui est inscrit dans le champ de recherche */
    arr = searchByName(arr, this.searchTerm);

    /* R√©ordonner selon ce qui est s√©lectionn√© dans la liste de tri */
    arr = sortByMode(arr, this.sortBy);

    /* Pour vous aider √† visuealiser les donn√©es dans la console */
    console.log(arr);

    /* La propri√©t√© calcul√©e actuelle retourne un tableau d'artistes filtr√© et r√©ordonn√© */
    return arr;
  }
  ```
  - Utiliser ensuite cette propri√©t√© calcul√©e `filteredAndSortedArtistsArr` pour afficher les cartes d'artiste filtr√©es et/ou r√©ordonn√©e dans l'√©l√©ment `.schedule`.

- [ ] Si ce n'√©tait pas d√©j√† fait, d√©finir une *m√©thode* pour charger les donn√©es du fichier `data.json`.
  - Cette m√©thode est appel√©e au clic du bouton *¬´ Charger la programmation ¬ª*
- [ ] D√©finir une *m√©thode* pour r√©initialiser les champs du formulaire de filtre, triage et recherche √† leur valeur initiale lors du chargement de la page. Noubliez pas que le champ disposition doit √™tre r√©initialis√© √† sa valeur de base soit `featured`.
  - Cette m√©thode est appel√©e au clic du bouton *¬´ R√©initialiser les filtres ¬ª*
- [ ] D√©finir une *m√©thode* pour appliquer les classes CSS aux cartes.
  - Selon le contexte:
    - appliquer la classe `.is-featured` si l'artiste de la carte est en vedette.
    - appliquer la classe `.is-stage-STAGENAME` ou `STAGENAME` est le nom de la sc√®ne o√π l'artiste se produit.
  - Cette m√©thode retourne (`return`) la valeur des classes CSS.
  - Cette m√©thode est appel√©e dans l'attribut `v-bind:class` de la balise de la carte.

### 7- √âtats d‚Äôinterface UI

- [ ] Message clair en fonction de l'*√©tat* du chargement des donn√©es via `section.message`.
- [ ] Message clair si aucun r√©sultat : *¬´ Aucun artiste ¬ª* via `p.empty`.
- [ ] Bouton *¬´ R√©initialiser ¬ª* permettant d'effacer les filtres et la recherche.
- [ ] Affichage du nombre de *r√©sultat(s)* selon la recherche et les filtres activ√©s par l'utilisateur.

## Contraintes

- Pas de framework CSS externe (pas de Bootstrap/Tailwind).
- Vue doit √™tre charg√©e via le *CDN*.
- L‚Äôapplication doit √™tre lanc√©e via un *serveur local* (ex. *Live Server* dans VS Code).


## Livrables (Remise)

- `index.html`, `style.css`, `main.js`, `data.json`, `utils.js`, `logo.svg`.
- Une application fonctionnelle respectant les consignes.
- Veuillez renommer le dossier *nom-prenom-exam-web5* avec votre nom.
- Veuillez compresser ce dossier en format *.zip* et le remettre dans Teams dans le Devoir nomm√© *Examen Web5*.
- Avant de quitter la classe, veuillez voir l'enseignante afin qu'elle confirme la r√©ception de votre travail.

## Bar√®me (100 points)

- 10pts ‚Üí **Commentaires dans le code et dans l'ex√©cution**
- 20pts ‚Üí **Fetch via bouton "Charger la programmation" & gestion des √©tats**
- 20pts ‚Üí **Grille CSS responsive & layouts (uniform/featured) + version tablette + version mobile. Grille sur formulaire.**
- 10pts ‚Üí **Vue.js - importation, cr√©ation de l'app, initialisation des donn√©es, nommage des donn√©es (bien nomm√©es, de fa√ßon claire)** 
- 20pts ‚Üí **Vue.js (methods, computed (dont entre autre `filteredAndSortedArtistsArr`), directives (v-for v-if), events (v-on:click), data binding ({{ }} , v-bind:, v-model))**
- 10pts ‚Üí **Filtre, recherche et tri fonctionnels et plac√©s selon la grille**
- 10pts ‚Üí **UX & accessibilit√© (messages √† l'√©cran, nb de r√©sultats, r√©initialisation)**

